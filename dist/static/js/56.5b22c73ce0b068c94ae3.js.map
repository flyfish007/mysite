{"version":3,"sources":["webpack:///src/components/orderSummary.vue","webpack:///./src/components/orderSummary.vue?2a57","webpack:///./src/components/orderSummary.vue"],"names":["orderSummary","name","data","grandTotal","selectIndex","couponAmount","ids","JSON","parse","this","$route","query","isVIP","cuponShow","orderData","chooseNum","couponList","hisCouponList","initCouponList","noAdress","initProList","computed","mounted","init","methods","_this","Object","order","then","res","result","shipmentList","length","forEach","el","timeVal","timeLabel","deliveryTimeList","push","calTotal","address","initAddress","getAddress","initProData","selectCoupon","item","i","use","indexOf","splice","check","changeTime","timeItem","timeIdx","$set","counponShow","subTotal","shipping","toFixed","confirmCoupon","_this2","e","goBack","$router","back","addressGo","getAttributes","arr","map","t","optionName","join","showAnyTime","timeShow","payMentGo","_this3","addressId","$toast","expectedDeliveryTime","shipmentFrom","params","couponId","path","components_orderSummary","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","_v","_e","$event","redirect","_s","userName","mobile","class","rightArrow","_l","index","key","shipmentTitle","deliveredDays","directives","rawName","value","expression","red","pro","attrs","src","img0","cutOff","num","attributeList","mallPrice","merchantPrice","_m","messae","type","position","click-overlay","model","callback","$$v","href","beginTime","endTime","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/56.5b22c73ce0b068c94ae3.js","sourcesContent":["<template>\n  <div class=\"mainwrap\">\n    <section class=\"head\">\n      <div>\n        <a @click=\"goBack\" class=\"iconfont back\"> &#xe614; </a>\n      </div>\n      <h1>Order Summary</h1>\n      <div class=\"chartWrap\"></div>\n    </section>\n\n    <section class=\"orderSummaryWrap\">\n      <div class=\"address item-box\">\n        <p class=\"tittle\">Delivery Address</p>\n        <template v-if=\"!noAdress\">\n          <p class=\"user\" @click=\"redirect('/myAddress')\">\n            <span> {{ orderData.address.userName }} </span>\n            <span> NO.+971 {{ orderData.address.mobile }} </span>\n            <span class=\"tag\"> Home </span>\n          </p>\n        </template>\n        <div class=\"box-content\" @click=\"redirect('/myAddress')\">\n          <div v-if=\"!noAdress\">\n            <p class=\"two-line-ellipsis\">{{ orderData.address.address }}</p>\n          </div>\n          <div v-if=\"noAdress\" @click=\"addressGo\">\n            <span class=\"iconfont\"> &#xe601; </span>\n            <span> Add shipping address </span>\n          </div>\n          <div class=\"rightChange\" :class=\"{ rightArrow: noAdress }\">\n            <span class=\"iconfont\">\n              {{ noAdress ? \"&#xe93d;\" : \"&#xe75d;\" }}</span\n            >\n          </div>\n        </div>\n      </div>\n\n      <section class=\"proList\">\n        <div class=\"item-box\" v-for=\"(item, index) in initProList\" :key=\"index\">\n          <div class=\"tittleWrap\">\n            <p class=\"tittle\">\n              {{item.shipmentTitle}}\n            </p>\n            <div class=\"deliveryTime\">\n              <p class=\"red\">\n                delivered in {{ item.deliveredDays }} business days\n              </p>\n              <div class=\"chooseTime\">\n                <p class=\"outer\"  @click=\"showAnyTime(item,index)\">\n                  <span>\n                    {{\n                      !!item.timeLabel\n                        ? item.timeLabel\n                        : \"Preferred delivery time\"\n                    }}\n                  </span>\n                  <span class=\"iconfont arrowDown\"> &#xe671; </span>\n                </p>\n                <div class=\"timeList\" v-show=\"item.timeShow\">\n                  <p\n                    v-for=\"(timeItem, timeIdx) in item.deliveryTimeList\"\n                    @click=\"changeTime(item,timeItem, timeIdx)\"\n                    :class=\"{ red: item.timeVal == timeIdx }\"\n                    :key=\"timeIdx\"\n                  >\n                    {{ timeItem }}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div\n            class=\"box-content clearfix\"\n            v-for=\"(pro, i) in item.skuList\"\n            :key=\"i\"\n          >\n            <div class=\"imgWrap\">\n              <img :src=\"pro.img0\" class=\"img\" />\n              <p class=\"cutOff\">{{ item.cutOff }}</p>\n            </div>\n            <div class=\"rightMain\">\n              <div class=\"nameWrap\">\n                <div class=\"name\">{{ pro.name }}</div>\n                <div class=\"num\">\n                  <span class=\"iconfont\"> &#xe619; </span>\n                  <span> {{ pro.num }} </span>\n                </div>\n              </div>\n              <div class=\"proDownWrap\">\n                <div class=\"sizeWrap\">\n                  <p class=\"size\">\n                    {{ getAttributes(pro.attributeList) }}\n                  </p>\n                  <p class=\"shipping\" v-if=\"item.shipping\">\n                    Shipping: {{ pro.shipping }} AED\n                  </p>\n                </div>\n                <div>\n                  <p class=\"price\">{{ pro.mallPrice }} AED</p>\n                  <p class=\"priceDel\">{{ pro.merchantPrice }} AED</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <div class=\"item-box useCoupon\" @click=\"counponShow\">\n        <p class=\"tittle\">Choose Coupon</p>\n        <div class=\"box-content\">\n          <div>\n            <span class=\"iconfont radio\" :class=\"{ red: chooseNum }\">\n              {{ chooseNum ? \"&#xe618;\" : \"&#xe608;\" }}\n            </span>\n            <span class=\"value\"> {{ chooseNum }} Selected </span>\n          </div>\n          <div><span class=\"iconfont arrowDown\"> &#xe671; </span></div>\n        </div>\n      </div>\n\n      <div class=\"item-box total\">\n        <p class=\"tittle\">Payment summary</p>\n        <div class=\"box-content\">\n          <p class=\"row\">\n            <label> Sub Total: </label> <span> {{orderData.subTotal}} AED </span>\n          </p>\n          <p class=\"row\"><label> Shipping: </label> <span> {{orderData.shipping}} AED </span></p>\n          <!-- <p class=\"row\"> <label> Import fees deposit: </label> <span> 896.25 AED </span></p> -->\n          <p class=\"row\">\n            <label> Coupon: </label> <span> - {{ couponAmount }} AED</span>\n          </p>\n        </div>\n      </div>\n\n      <section class=\"downWrap\">\n        <div class=\"tips\">\n          <div class=\"red\">{{orderData.messae}}</div>\n          <div class=\"gray\" v-if=\"false\">\n            To gather up a list <span class=\"iconfont\"> &#xe93d; </span>\n          </div>\n        </div>\n        <div class=\"downBtn\">\n          <div class=\"rightOperate\">\n            <span class=\"black\"> Grand Total: </span>\n            <span class=\"price\"> {{ grandTotal }} AED </span>\n            <van-button type=\"danger\" @click=\"payMentGo\">Proceed(1)</van-button>\n          </div>\n        </div>\n      </section>\n    </section>\n\n    <van-popup\n      v-model=\"cuponShow\"\n      position=\"bottom\"\n      @click-overlay=\"cuponShow = false\"\n    >\n      <div class=\"couponList\">\n        <a\n          class=\"iconfont close\"\n          href=\"javascript:void(0)\"\n          @click=\"cuponShow = false\"\n        >\n          &#xe66c;\n        </a>\n        <ul class=\"clearfix\">\n          <li v-for=\"(item, index) in couponList\" :key=\"index\">\n            <span\n              class=\"iconfont radio\"\n              :class=\"{ red: selectIndex.indexOf(index) > -1 }\"\n              @click=\"selectCoupon(item, index)\"\n            >\n              {{ selectIndex.indexOf(index) > -1 ? \"&#xe618;\" : \"&#xe608;\" }}\n            </span>\n            <div>\n              <p class=\"name\">{{ item.name }}</p>\n              <p class=\"row2\">\n                <span class=\"price\"> {{ item.couponAmount }} </span>\n                <span class=\"date\">\n                  {{ item.beginTime }}-{{ item.endTime }}\n                </span>\n              </p>\n            </div>\n          </li>\n        </ul>\n        <div class=\"btnWrap\">\n          <van-button type=\"danger\" @click=\"confirmCoupon\" size=\"large\"\n            >Confirm</van-button\n          >\n        </div>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { checkOrder,submitOrder } from \"@/api/order.js\";\nexport default {\n  name: \"orderSummary\",\n  data() {\n    return {\n      grandTotal:\"\",\n      selectIndex: [],\n      couponAmount: 0,\n      ids: JSON.parse(this.$route.query.ids),\n      isVIP: 1,\n      cuponShow: false,\n      orderData: {},\n      chooseNum: \"\",\n      couponList: [],\n      hisCouponList: [],\n      initCouponList: [],\n      noAdress: true,\n      initProList: []\n    };\n  },\n  computed: {},\n  mounted() {\n    this.init();\n    // this.initAddress();\n  },\n  methods: {\n    init() {\n      checkOrder(this.ids).then(res => {\n        this.orderData = res.data.result;\n        this.initProList = res.data.result.shipmentList;\n        if(this.initProList.length>0){\n            this.initProList.forEach(el=>{\n                el.timeVal = 0;\n                el.timeLabel = el.deliveryTimeList[0];\n            });\n        }\n        this.couponList = res.data.result.couponList;\n        if(this.couponList.length>0){\n          this.selectIndex.push(0);\n            this.couponAmount = this.couponList[0].couponAmount;\n          this.chooseNum=1;\n          this.calTotal();\n        }\n        if (this.orderData.address) {\n          this.noAdress = false;\n        }\n      });\n    },\n    //我的地址\n    initAddress() {\n      getAddress().then(res => {});\n    },\n    initProData() {\n      // this.proList.map((val)=>{\n      //   this.initProList.push(JSON.parse(JSON.stringify(Object.assign(val,{\"timeShow\":false}))))\n      // })\n    },\n    //选择优惠劵\n    selectCoupon(item, i) {\n      if (item.use == 0) {\n        return false;\n      }\n      // if (this.selectIndex.indexOf(i) > -1) {\n      //   this.selectIndex.splice(this.selectIndex.indexOf(i), 1);\n      // } else {\n      //   this.selectIndex.push(i);\n      // }\n      if (this.selectIndex.indexOf(i) > -1) {\n        this.selectIndex.splice(0,1);\n      } else {\n        this.selectIndex.splice(0,1);\n        this.selectIndex.push(i);\n      }\n      item.check = !item.check;\n      this.calTotal();\n    },\n    changeTime(item,timeItem, timeIdx) {\n      this.$set(item,'timeVal',timeIdx)\n      this.$set(item,'timeLabel',timeItem)\n      this.$set(item,'timeShow',false)\n    },\n    counponShow() {\n      this.cuponShow = true;\n    },\n    calTotal(){\n      let res=this.orderData.subTotal*1+this.orderData.shipping*1-this.couponAmount*1;\n      this.grandTotal=res>0?res.toFixed(2):\"0.01\";\n    },\n    // 确定选择\n    confirmCoupon() {\n      this.chooseNum = 0;\n      this.couponAmount = 0;\n      if (this.selectIndex.length > 0) {\n        this.selectIndex.forEach(e => {\n          this.chooseNum++;\n          this.couponAmount += this.couponList[e].couponAmount*1;\n        });\n      }\n      this.cuponShow = false;\n    },\n    goBack() {\n      this.$router.back(-1);\n    },\n    addressGo() {\n      this.$router.push(\"/addAddress\");\n    },\n    getAttributes(arr){\n        return arr.map(t=>t.optionName).join(';')\n    },\n    showAnyTime(item){\n      this.$set(item,'timeShow',!item.timeShow)\n    },\n    //跳转支付页面\n    payMentGo() {\n    if (!this.orderData.address.addressId) {\n        this.$toast(\"Add address\");\n        return false;\n    }\n\n    let expectedDeliveryTime=[];\n    this.initProList.forEach(el=>{\n        expectedDeliveryTime.push(el.shipmentFrom+\"~\"+el.timeLabel);\n    });\n\n     let params={\n       grandTotal:this.grandTotal,\n       couponId:this.selectIndex.length>0?this.couponList[this.selectIndex[0]].couponId:\"\",\n       ids: this.ids.join(','),\n       addressId: this.orderData.address.addressId,\n       expectedDeliveryTime:expectedDeliveryTime.join(',')\n     };\n\n     submitOrder(params).then(res=>{\n        this.$router.push({\n            path: \"/payMent\",\n            query: params\n          });\n     });\n\n   \n     \n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../common/css/order.scss\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/orderSummary.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mainwrap\"},[_c('section',{staticClass:\"head\"},[_c('div',[_c('a',{staticClass:\"iconfont back\",on:{\"click\":_vm.goBack}},[_vm._v(\"  \")])]),_vm._v(\" \"),_c('h1',[_vm._v(\"Order Summary\")]),_vm._v(\" \"),_c('div',{staticClass:\"chartWrap\"})]),_vm._v(\" \"),_c('section',{staticClass:\"orderSummaryWrap\"},[_c('div',{staticClass:\"address item-box\"},[_c('p',{staticClass:\"tittle\"},[_vm._v(\"Delivery Address\")]),_vm._v(\" \"),(!_vm.noAdress)?[_c('p',{staticClass:\"user\",on:{\"click\":function($event){return _vm.redirect('/myAddress')}}},[_c('span',[_vm._v(\" \"+_vm._s(_vm.orderData.address.userName)+\" \")]),_vm._v(\" \"),_c('span',[_vm._v(\" NO.+971 \"+_vm._s(_vm.orderData.address.mobile)+\" \")]),_vm._v(\" \"),_c('span',{staticClass:\"tag\"},[_vm._v(\" Home \")])])]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"box-content\",on:{\"click\":function($event){return _vm.redirect('/myAddress')}}},[(!_vm.noAdress)?_c('div',[_c('p',{staticClass:\"two-line-ellipsis\"},[_vm._v(_vm._s(_vm.orderData.address.address))])]):_vm._e(),_vm._v(\" \"),(_vm.noAdress)?_c('div',{on:{\"click\":_vm.addressGo}},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"  \")]),_vm._v(\" \"),_c('span',[_vm._v(\" Add shipping address \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"rightChange\",class:{ rightArrow: _vm.noAdress }},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"\\n            \"+_vm._s(_vm.noAdress ? \"\" : \"\"))])])])],2),_vm._v(\" \"),_c('section',{staticClass:\"proList\"},_vm._l((_vm.initProList),function(item,index){return _c('div',{key:index,staticClass:\"item-box\"},[_c('div',{staticClass:\"tittleWrap\"},[_c('p',{staticClass:\"tittle\"},[_vm._v(\"\\n            \"+_vm._s(item.shipmentTitle)+\"\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"deliveryTime\"},[_c('p',{staticClass:\"red\"},[_vm._v(\"\\n              delivered in \"+_vm._s(item.deliveredDays)+\" business days\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"chooseTime\"},[_c('p',{staticClass:\"outer\",on:{\"click\":function($event){return _vm.showAnyTime(item,index)}}},[_c('span',[_vm._v(\"\\n                  \"+_vm._s(!!item.timeLabel\n                      ? item.timeLabel\n                      : \"Preferred delivery time\")+\"\\n                \")]),_vm._v(\" \"),_c('span',{staticClass:\"iconfont arrowDown\"},[_vm._v(\"  \")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.timeShow),expression:\"item.timeShow\"}],staticClass:\"timeList\"},_vm._l((item.deliveryTimeList),function(timeItem,timeIdx){return _c('p',{key:timeIdx,class:{ red: item.timeVal == timeIdx },on:{\"click\":function($event){return _vm.changeTime(item,timeItem, timeIdx)}}},[_vm._v(\"\\n                  \"+_vm._s(timeItem)+\"\\n                \")])}),0)])])]),_vm._v(\" \"),_vm._l((item.skuList),function(pro,i){return _c('div',{key:i,staticClass:\"box-content clearfix\"},[_c('div',{staticClass:\"imgWrap\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":pro.img0}}),_vm._v(\" \"),_c('p',{staticClass:\"cutOff\"},[_vm._v(_vm._s(item.cutOff))])]),_vm._v(\" \"),_c('div',{staticClass:\"rightMain\"},[_c('div',{staticClass:\"nameWrap\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(pro.name))]),_vm._v(\" \"),_c('div',{staticClass:\"num\"},[_c('span',{staticClass:\"iconfont\"},[_vm._v(\"  \")]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(pro.num)+\" \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"proDownWrap\"},[_c('div',{staticClass:\"sizeWrap\"},[_c('p',{staticClass:\"size\"},[_vm._v(\"\\n                  \"+_vm._s(_vm.getAttributes(pro.attributeList))+\"\\n                \")]),_vm._v(\" \"),(item.shipping)?_c('p',{staticClass:\"shipping\"},[_vm._v(\"\\n                  Shipping: \"+_vm._s(pro.shipping)+\" AED\\n                \")]):_vm._e()]),_vm._v(\" \"),_c('div',[_c('p',{staticClass:\"price\"},[_vm._v(_vm._s(pro.mallPrice)+\" AED\")]),_vm._v(\" \"),_c('p',{staticClass:\"priceDel\"},[_vm._v(_vm._s(pro.merchantPrice)+\" AED\")])])])])])})],2)}),0),_vm._v(\" \"),_c('div',{staticClass:\"item-box useCoupon\",on:{\"click\":_vm.counponShow}},[_c('p',{staticClass:\"tittle\"},[_vm._v(\"Choose Coupon\")]),_vm._v(\" \"),_c('div',{staticClass:\"box-content\"},[_c('div',[_c('span',{staticClass:\"iconfont radio\",class:{ red: _vm.chooseNum }},[_vm._v(\"\\n            \"+_vm._s(_vm.chooseNum ? \"\" : \"\")+\"\\n          \")]),_vm._v(\" \"),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.chooseNum)+\" Selected \")])]),_vm._v(\" \"),_vm._m(0)])]),_vm._v(\" \"),_c('div',{staticClass:\"item-box total\"},[_c('p',{staticClass:\"tittle\"},[_vm._v(\"Payment summary\")]),_vm._v(\" \"),_c('div',{staticClass:\"box-content\"},[_c('p',{staticClass:\"row\"},[_c('label',[_vm._v(\" Sub Total: \")]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(_vm.orderData.subTotal)+\" AED \")])]),_vm._v(\" \"),_c('p',{staticClass:\"row\"},[_c('label',[_vm._v(\" Shipping: \")]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(_vm.orderData.shipping)+\" AED \")])]),_vm._v(\" \"),_c('p',{staticClass:\"row\"},[_c('label',[_vm._v(\" Coupon: \")]),_vm._v(\" \"),_c('span',[_vm._v(\" - \"+_vm._s(_vm.couponAmount)+\" AED\")])])])]),_vm._v(\" \"),_c('section',{staticClass:\"downWrap\"},[_c('div',{staticClass:\"tips\"},[_c('div',{staticClass:\"red\"},[_vm._v(_vm._s(_vm.orderData.messae))]),_vm._v(\" \"),(false)?_c('div',{staticClass:\"gray\"},[_vm._v(\"\\n          To gather up a list \"),_c('span',{staticClass:\"iconfont\"},[_vm._v(\"  \")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"downBtn\"},[_c('div',{staticClass:\"rightOperate\"},[_c('span',{staticClass:\"black\"},[_vm._v(\" Grand Total: \")]),_vm._v(\" \"),_c('span',{staticClass:\"price\"},[_vm._v(\" \"+_vm._s(_vm.grandTotal)+\" AED \")]),_vm._v(\" \"),_c('van-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.payMentGo}},[_vm._v(\"Proceed(1)\")])],1)])])]),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},on:{\"click-overlay\":function($event){_vm.cuponShow = false}},model:{value:(_vm.cuponShow),callback:function ($$v) {_vm.cuponShow=$$v},expression:\"cuponShow\"}},[_c('div',{staticClass:\"couponList\"},[_c('a',{staticClass:\"iconfont close\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.cuponShow = false}}},[_vm._v(\"\\n        \\n      \")]),_vm._v(\" \"),_c('ul',{staticClass:\"clearfix\"},_vm._l((_vm.couponList),function(item,index){return _c('li',{key:index},[_c('span',{staticClass:\"iconfont radio\",class:{ red: _vm.selectIndex.indexOf(index) > -1 },on:{\"click\":function($event){return _vm.selectCoupon(item, index)}}},[_vm._v(\"\\n            \"+_vm._s(_vm.selectIndex.indexOf(index) > -1 ? \"\" : \"\")+\"\\n          \")]),_vm._v(\" \"),_c('div',[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('p',{staticClass:\"row2\"},[_c('span',{staticClass:\"price\"},[_vm._v(\" \"+_vm._s(item.couponAmount)+\" \")]),_vm._v(\" \"),_c('span',{staticClass:\"date\"},[_vm._v(\"\\n                \"+_vm._s(item.beginTime)+\"-\"+_vm._s(item.endTime)+\"\\n              \")])])])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"btnWrap\"},[_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"large\"},on:{\"click\":_vm.confirmCoupon}},[_vm._v(\"Confirm\")])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"iconfont arrowDown\"},[_vm._v(\"  \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-23c50582\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/orderSummary.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23c50582\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./orderSummary.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderSummary.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderSummary.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23c50582\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./orderSummary.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23c50582\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/orderSummary.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}